<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Sleep Data Visualisation</title>
  </head>
  <body>
    <div id="app">
      <div class="tab-bar">
        <button class="tab active" data-tab="input">📥 Input</button>
        <button class="tab" data-tab="chart">📈 Chart</button>
        <button class="tab" data-tab="summary">📊 Summary</button>
      </div>

      <div id="input" class="tab-panel active">
        <h2>Sleep Data Input</h2>
        <form id="sleep-form">
          <div id="data-info" class="data-info">
            <span>🗓️ First Entry: <strong id="first-date">-</strong></span> |
            <span>📅 Latest Entry: <strong id="latest-date">-</strong></span> |
            <span>#️⃣ Total Records: <strong id="row-count">0</strong></span>
          </div>
          <label
            >Sleep Date:
            <input type="date" id="date" />
            <span class="field-error" id="error-date"></span>
          </label>
          <label
            >Sleep Time:
            <input type="number" id="sleep-hour" placeholder="HH" />
            <input type="number" id="sleep-minute" placeholder="MM" />
            <span class="field-error" id="error-sleep"></span>
          </label>
          <label
            >Wake Time:
            <input type="number" id="wake-hour" placeholder="HH" />
            <input type="number" id="wake-minute" placeholder="MM" />
            <span class="field-error" id="error-wake"></span>
          </label>
          <button type="submit" id="enter" class="btn btn-primary">
            Enter
          </button>
        </form>
      </div>

      <div id="chart" class="tab-panel" style="min-width: 700px">
        <div id="output-area">
          <div class="chart-header">
            <h3>📊 Sleep Chart</h3>
            <button id="generate" class="btn btn-primary">
              Generate Chart
            </button>
          </div>
          <div id="chart-container">
            <span id="placeholder"
              >Press "Generate Chart" to view your sleep data</span
            >
            <div id="loader"></div>
            <img id="preview" />
          </div>
          <div class="push-container">
            <button id="push" class="btn btn-secondary">🚀 to GitHub</button>
            <button id="open-github" class="btn btn-secondary">Open 🌐</button>
            <button id="open-image" class="btn btn-secondary">Open 🖼️</button>
            <button id="open-vscode" class="btn btn-secondary">Open ©️</button>
          </div>
        </div>
      </div>

      <div id="summary" class="tab-panel">
        <div id="summary-stats">
          <div class="summary-grid">
            <div style="min-width: 250px; max-width: 350px">
              <h4>📊 Recent Sleep Stats</h4>
              <div class="subtab-bar">
                <button class="subtab active" data-span="7">7-Day</button>
                <button class="subtab" data-span="30">30-Day</button>
              </div>
              <ul id="recent-summary" class="stat-list">
                <li>Average: <strong>8.15</strong> hrs</li>
                <li>Total: <strong>57.05</strong> hrs</li>
                <li>Longest: <strong>9.25</strong> hrs</li>
                <li>Shortest: <strong>7.00</strong> hrs</li>
              </ul>
            </div>
            <div style="min-width: 350px; max-width: 450px">
              <h4>📆 Total Sleep</h4>
              <ul id="total-summary" class="stat-list">
                <li>Total: <strong>876.50</strong> hrs</li>
                <li>Average: <strong>8.25</strong> hrs</li>
                <li>Days: <strong>106</strong></li>
                <li>Rate: <strong>95</strong>%</li>
              </ul>
            </div>
          </div>
          <div style="min-width: 600px; max-width: 900px">
            <h4>📅 Monthly Summary</h4>
            <div id="monthly-card">
              <label for="month-select">Select Month:</label>
              <select id="month-select"></select>
              <ul id="monthly-summary" class="stat-list">
                <li>Total: <strong>248.75</strong> hrs</li>
                <li>Average: <strong>8.25</strong> hrs</li>
                <li>Days: <strong>30</strong></li>
                <li>Rate: <strong>97</strong>%</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
